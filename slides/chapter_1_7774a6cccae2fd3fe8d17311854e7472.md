---
title: Insert title here
key: 7774a6cccae2fd3fe8d17311854e7472

---
## Screencast

```yaml
type: "TitleSlide"
key: "be5c7a4595"
```

`@lower_third`

name: Christopher Bruffaerts
title: Lecturer in Data science, EPFL


`@script`
In this lesson, we are going to cover the so-called Apriori algorithm. On the one hand we are going to understand both the purpose and backbone of this algorithm and on the other hand see how to apply it with the arules package. 
To do so, we are going to make use of concepts seen in the previous lessons such as transactional data and the corresponding metrics.


---
## Transactional data from the supermarket

```yaml
type: "TwoColumns"
key: "4e02bdb379"
code_zoom: 100
```

`@part1`
**List of items**

| Items  | Abbreviation
|--------|----------|
| Bread  | BR		|
| Butter | BT		|
| Cheese | CH		|
| Wine   | WN		|


`@part2`
| ID 	 | Transaction                            |
|--------|----------------------------------------|
| 1      | {BR, BT, CH, WN}     	  |
| 2      | {BR, BT, WN}              |
| 3      | {BR, BT}                |
| 4      | {BT, CH, WN}         |
| 5      | {BT, CH}         |
| 6      | {CH, WN}         |
| 7      | {BT, WN}         |


`@script`



---
## Idea behind the Apriori algorithm

```yaml
type: "FullSlide"
key: "154971ef68"
```

`@part1`
**Remember**: Each transaction is seen as a set of items 

Purpose of the Apriori algorithm:
1. Determine frequent itemsets of a potentially large database of transactions
2. Extract some induced rules from the itemsets, known as _association rule learning_ over transactional database

Allows to discover interesting relationships between "variables" in large database.


`@script`



---
## Insert title here...

```yaml
type: "FullSlide"
key: "0a6b566e2c"
```

`@part1`
Goal of the apriori algorithm is twofold (two major subtasks):

- Frequent Itemset generation: find all the itemsets that satisfy the minsup threshold. These itemsets are called frequent itemsets.


- Rule generation: extract all the high-confidence rules from the frequent itemsets found in the previous steps

The computational requirements for frequent itemset generation are more expensive than those of rule generation.


`@script`



---
## Test image

```yaml
type: "FullSlide"
key: "81b3785def"
```

`@part1`
![blbalb](https://assets.datacamp.com/production/repositories/4926/datasets/a9557d9866060fbab757d1ecc1c476622ae5dc6a/basket.jpg = 20){{1}}

![test2](https://assets.datacamp.com/production/repositories/4926/datasets/a9557d9866060fbab757d1ecc1c476622ae5dc6a/basket.jpg = 20){{2}}


`@script`



---
## Back to the example

```yaml
type: "TwoColumns"
key: "f2c69e3c41"
```

`@part1`
**Transactional data **

| Trx ID | Trx                          |
|--------|------------------------------|
| 1      | {Bread, Butter, Ham, Cheese} |
| 2      | {Bread, Cheese}              |
| 3      | {Butter, Ham}                |
| 4      | {Bread, Ham, Cheese}         |


`@part2`
https://www.tablesgenerator.com/markdown_tables


`@script`



---
## Backbone of Apriori algorithm

```yaml
type: "FullSlide"
key: "a9578f79ad"
```

`@part1`
Idea/rationale

- Bottom-up approach
- Level-wise, breath-first algorithm which counts transactions


`@script`



---
## Example of Apriori algorithm

```yaml
type: "FullSlide"
key: "a6ae55fdc5"
```

`@part1`



`@script`



---
## Apriori function from the arules package

```yaml
type: "TwoColumns"
key: "c1e7bf828c"
```

`@part1`
```
library(arules)
# Recall from previous lessons
Itemfrequency()
ItemfrequencyPlot()
image()
```


`@part2`
Input transactional dataset

```
apriori(data, parameter = list(support = 0.1, confidence = 0.6))
```


`@script`



---
## Parameters and controls of the apriori

```yaml
type: "FullSlide"
key: "0472819503"
```

`@part1`
- **Parameter**: the mining parameters change the characteristics of the mined itemsets or rules (e.g. minimum support)
- **Control**: influence the performance of the algorithm (e.g. ???)


```
?apriori
?APparameter
?APcontrol
?APcontrolappearance
```


`@script`



---
## Apriori options

```yaml
type: "FullSlide"
key: "c76f2b1c05"
```

`@part1`
List all possible options available in arules with apriori

```
summary()
length()
items()
write()
write.pmml()
```


`@script`



---
## Rule induction

```yaml
type: "FullSlide"
key: "1cc38436d1"
```

`@part1`
Inspection of the rules

```
rules = apriori(...)
# Inspection of the data
inspect(head())
```


`@script`



---
## Let's practice!

```yaml
type: "FinalSlide"
key: "cbc4d2b5e4"
```

`@script`


